# 142 bpm å¡æ­»é—®é¢˜ - ç´§æ€¥ä¿®å¤

## ğŸš¨ **é—®é¢˜ç°è±¡**

```
HR(å¿ƒç‡): 142.2 bpm [ä¸¢å¤±] | SpO2(è¡€æ°§): 95.8% | Signal(ä¿¡å·è´¨é‡): 70%
HR(å¿ƒç‡): 142.2 bpm [ä¸¢å¤±] | SpO2(è¡€æ°§): 95.9% | Signal(ä¿¡å·è´¨é‡): 70%
HR(å¿ƒç‡): 142.2 bpm [ä¸¢å¤±] | SpO2(è¡€æ°§): 93.3% | Signal(ä¿¡å·è´¨é‡): 70%
...æŒç»­ä¸å˜...
```

**å…³é”®ç‰¹å¾ï¼š**
- âŒ **å¿ƒç‡å›ºå®š142.2ä¸å˜**ï¼ˆå®Œå…¨å¡æ­»ï¼‰
- âŒ **çŠ¶æ€ä¸€ç›´[ä¸¢å¤±]**ï¼ˆæ£€æµ‹ä¸åˆ°æ–°å¿ƒè·³ï¼‰
- âœ… è¡€æ°§æ­£å¸¸æ³¢åŠ¨ï¼ˆä¼ æ„Ÿå™¨æ­£å¸¸ï¼‰
- âœ… ä¿¡å·è´¨é‡70%ï¼ˆæ‰‹æŒ‡æ”¾ç½®æ­£å¸¸ï¼‰

---

## ğŸ” **é—®é¢˜æ ¹æº**

### **ç®—æ³•é€»è¾‘é™·é˜±ï¼š**

```c
// ä¹‹å‰çš„è¿‡æ»¤é€»è¾‘ï¼ˆè¿‡äºä¸¥æ ¼ï¼‰
if (fabsf(instant_hr - beat_avg) > 50.0f) {
    // åªæœ‰é«˜åº¦ç¨³å®š(>=5æ¬¡)æ‰æ¥å—
    if (stable_count >= 5) {
        // æ›´æ–°
    }
    // å¦åˆ™å®Œå…¨æ‹’ç»
}
```

### **æ­»é”åœºæ™¯ï¼š**

```
1. åˆå§‹è¯¯æ£€ â†’ beat_avg = 142.2 bpm
2. çœŸå®å¿ƒç‡ â†’ instant_hr = 70 bpm
3. è®¡ç®—å·®å¼‚ â†’ |142 - 70| = 72 bpm > 50
4. æ£€æŸ¥æ¡ä»¶ â†’ stable_count = 1 < 5
5. ç»“æœï¼šæ‹’ç»æ›´æ–°
6. ä¸‹æ¬¡æ£€æµ‹ â†’ beat_avgè¿˜æ˜¯142.2
7. ç»§ç»­æ‹’ç»...
8. **æ°¸è¿œå¡æ­»åœ¨142.2ï¼**
```

**é—®é¢˜ï¼šåˆæœŸè¯¯æ£€å¯¼è‡´çš„å¤§åå·®æ— æ³•è‡ªåŠ¨ä¿®æ­£ï¼**

---

## âœ… **ç´§æ€¥ä¿®å¤æ–¹æ¡ˆ**

### **1. æ·»åŠ åˆæœŸå¤§å¹…ä¿®æ­£æœºåˆ¶**

```c
else {
    // å¤§å¹…æ³¢åŠ¨(>50 bpm)
    if (stable_count >= 5) {
        // é«˜åº¦ç¨³å®š:æä¿å®ˆæ›´æ–°
        beat_avg = 0.90 * beat_avg + 0.10 * instant_hr;
    } else if (stable_count <= 2) {
        // â­ æ–°å¢ï¼šåˆæœŸä¸ç¨³å®š,å…è®¸å¤§å¹…ä¿®æ­£
        beat_avg = 0.5 * beat_avg + 0.5 * instant_hr;
        stable_count = 1;  // é‡ç½®è®¡æ•°
        hr_status = 1;     // å›åˆ°æ£€æµ‹ä¸­
    }
    // ä¸­é—´çŠ¶æ€(3-4æ¬¡)æ‹’ç»
}
```

**åŸç†ï¼š**
- **åˆæœŸï¼ˆ0-2æ¬¡ï¼‰**ï¼šå¯èƒ½åˆå§‹å€¼é”™è¯¯ï¼Œå…è®¸50%æƒé‡å¿«é€Ÿä¿®æ­£
- **ä¸­æœŸï¼ˆ3-4æ¬¡ï¼‰**ï¼šå·²ç»å»ºç«‹ä¿¡ä»»ï¼Œæ‹’ç»å¤§æ³¢åŠ¨
- **åæœŸï¼ˆ5æ¬¡+ï¼‰**ï¼šé«˜åº¦ç¨³å®šï¼Œæä¿å®ˆæ¥å—

---

### **2. æ·»åŠ è‡ªåŠ¨é‡ç½®æœºåˆ¶**

```c
// å¦‚æœæŒç»­ä¸¢å¤±5ç§’,å¼ºåˆ¶é‡ç½®
if (time_no_beat > 5000) {
    beat_avg = 0.0f;          // æ¸…ç©ºæ—§å€¼
    stable_count = 0;         // é‡ç½®ç¨³å®šè®¡æ•°
    hr_status = 0;            // å›åˆ°åˆå§‹åŒ–
}
```

**åŸç†ï¼š**
- æŒç»­ä¸¢å¤±5ç§’ â†’ è¯´æ˜å½“å‰å€¼å¯èƒ½é”™è¯¯
- å¼ºåˆ¶æ¸…é›¶ â†’ é‡æ–°å¼€å§‹æ£€æµ‹
- é¿å…æ°¸ä¹…å¡æ­»

---

## ğŸ“Š **ä¿®å¤æ•ˆæœå¯¹æ¯”**

### **ä¿®å¤å‰ï¼ˆå¡æ­»åœºæ™¯ï¼‰ï¼š**

```
æ—¶é—´  å¿ƒç‡       stable_count  è¯´æ˜
0s    142.2 bpm  1             è¯¯æ£€åˆ°142
1s    142.2 bpm  1             æ£€æµ‹åˆ°70,å·®å¼‚72>50,æ‹’ç»
2s    142.2 bpm  1             ç»§ç»­æ‹’ç»
3s    142.2 bpm  1             ç»§ç»­æ‹’ç»
...
10s   142.2 bpm  1             æ°¸è¿œå¡æ­»âŒ
```

---

### **ä¿®å¤åï¼ˆè‡ªåŠ¨ä¿®æ­£ï¼‰ï¼š**

```
æ—¶é—´  å¿ƒç‡       stable_count  è¯´æ˜
0s    142.2 bpm  1             è¯¯æ£€åˆ°142
1s    106.1 bpm  1             âœ… åˆæœŸä¿®æ­£: 142*0.5+70*0.5=106
2s    88.1 bpm   1             âœ… ç»§ç»­ä¿®æ­£: 106*0.5+70*0.5=88
3s    79.1 bpm   1             âœ… ç»§ç»­ä¿®æ­£: 88*0.5+70*0.5=79
4s    74.6 bpm   1             âœ… ç»§ç»­ä¿®æ­£: 79*0.5+70*0.5=74.5
5s    72.3 bpm   2             âœ… å·®å¼‚å˜å°,æ­£å¸¸æ›´æ–°
6s    71.7 bpm   3             âœ… è¿›å…¥ç¨³å®šçŠ¶æ€
```

**å…³é”®ï¼šé€šè¿‡å¤šæ¬¡50%æƒé‡æ›´æ–°ï¼Œå¿«é€Ÿæ”¶æ•›åˆ°çœŸå®å€¼ï¼**

---

## ğŸ¯ **åˆ†çº§å“åº”ç­–ç•¥ï¼ˆä¼˜åŒ–åï¼‰**

```
åˆæœŸï¼ˆ0-2æ¬¡ï¼‰ï¼š"å¿«é€Ÿä¿®æ­£æ¨¡å¼"
â”œâ”€ å°æ³¢åŠ¨(<45)  â†’ 30%æƒé‡æ›´æ–°
â”œâ”€ ä¸­ç­‰æ³¢åŠ¨(45-50) â†’ 15%æƒé‡æ›´æ–°
â””â”€ å¤§æ³¢åŠ¨(>50)  â†’ 50%æƒé‡æ›´æ–°âœ… (å…è®¸å¤§å¹…ä¿®æ­£)

ä¸­æœŸï¼ˆ3-4æ¬¡ï¼‰ï¼š"ä¿¡ä»»å»ºç«‹æœŸ"
â”œâ”€ å°æ³¢åŠ¨(<45)  â†’ 30%æƒé‡æ›´æ–°
â”œâ”€ ä¸­ç­‰æ³¢åŠ¨(45-50) â†’ 15%æƒé‡æ›´æ–°
â””â”€ å¤§æ³¢åŠ¨(>50)  â†’ æ‹’ç»ğŸ›¡ï¸ (ä¿æŠ¤ç¨³å®šæ€§)

åæœŸï¼ˆ5æ¬¡+ï¼‰ï¼š"é“æ¡¶æ¨¡å¼"
â”œâ”€ å°æ³¢åŠ¨(<45)  â†’ 30%æƒé‡æ›´æ–°
â”œâ”€ ä¸­ç­‰æ³¢åŠ¨(45-50) â†’ 15%æƒé‡æ›´æ–°
â””â”€ å¤§æ³¢åŠ¨(>50)  â†’ 10%æƒé‡æ›´æ–°ğŸ”’ (æä¿å®ˆ)
```

---

## ğŸ”§ **å®Œæ•´é€»è¾‘æµç¨‹å›¾**

```
æ£€æµ‹åˆ°æ–°å¿ƒè·³instant_hr
    â†“
è®¡ç®—|instant_hr - beat_avg|
    â†“
    â”œâ”€ < 45 bpm â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  æ­£å¸¸æ³¢åŠ¨                    â”‚
    â”‚  0.7*æ—§ + 0.3*æ–°            â”‚ â†’ æ›´æ–°å¿ƒç‡
    â”‚  stable_count++             â”‚   çŠ¶æ€æå‡
    â”‚                             â”‚
    â”œâ”€ 45-50 bpm â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  ä¸­ç­‰æ³¢åŠ¨                    â”‚
    â”‚  stable_count >= 3?         â”‚
    â”‚  â”œâ”€ æ˜¯: 0.85*æ—§+0.15*æ–°     â”‚ â†’ æ›´æ–°å¿ƒç‡
    â”‚  â””â”€ å¦: æ‹’ç»               â”‚   ä¿æŒåŸå€¼
    â”‚                             â”‚
    â””â”€ > 50 bpm â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       å¤§å¹…æ³¢åŠ¨                    â”‚
       stable_count?              â”‚
       â”œâ”€ >=5: 0.9*æ—§+0.1*æ–°      â”‚ â†’ æ›´æ–°å¿ƒç‡
       â”œâ”€ 3-4: æ‹’ç»              â”‚   ä¿æŒåŸå€¼
       â””â”€ <=2: 0.5*æ—§+0.5*æ–° â­   â”‚ â†’ å¿«é€Ÿä¿®æ­£
              (åˆæœŸä¿®æ­£æ¨¡å¼)       â”‚   é‡ç½®è®¡æ•°
                                 â†“
                         è¶…æ—¶æ£€æµ‹
                         æŒç»­ä¸¢å¤±5ç§’?
                         â”œâ”€ æ˜¯: å¼ºåˆ¶é‡ç½®
                         â””â”€ å¦: ä¿æŒ
```

---

## ğŸ’¡ **ä¸ºä»€ä¹ˆä¼šå‡ºç°142 bpmè¯¯æ£€ï¼Ÿ**

### **å¯èƒ½åŸå› ï¼š**

1. **å³°å€¼æ£€æµ‹è¯¯è§¦å‘**
   ```
   - æ‰‹æŒ‡åˆšæ”¾ä¸Šå»,ä¿¡å·ä¸ç¨³
   - ç¯å¢ƒå¹²æ‰°å¯¼è‡´è¯¯æ£€
   - å³°å€¼é—´éš”è¿‡çŸ­(æ£€æµ‹åˆ°å™ªå£°)
   ```

2. **åˆå§‹åŒ–é˜¶æ®µä¸å®Œå–„**
   ```
   - å‰10æ¬¡å»ºç«‹åŸºçº¿æœŸé—´
   - ä¿¡å·è¿˜æœªç¨³å®š
   - åŠ¨æ€é˜ˆå€¼æœªå»ºç«‹
   ```

3. **æ‰‹æŒ‡ç§»åŠ¨**
   ```
   - åˆšæ”¾ç½®æ—¶è½»å¾®è°ƒæ•´ä½ç½®
   - å¯¼è‡´IR_ACå‰§çƒˆæ³¢åŠ¨
   - è§¦å‘é”™è¯¯çš„å³°å€¼æ£€æµ‹
   ```

---

## ğŸ›¡ï¸ **é˜²æ­¢ç±»ä¼¼é—®é¢˜çš„æªæ–½**

### **1. åˆæœŸä¿®æ­£æœºåˆ¶ï¼ˆå·²æ·»åŠ ï¼‰**
```c
âœ… stable_count <= 2 æ—¶å…è®¸å¤§å¹…ä¿®æ­£
âœ… 50%æƒé‡å¿«é€Ÿæ”¶æ•›
âœ… é‡ç½®ç¨³å®šè®¡æ•°é‡æ–°å»ºç«‹ä¿¡ä»»
```

### **2. è‡ªåŠ¨é‡ç½®æœºåˆ¶ï¼ˆå·²æ·»åŠ ï¼‰**
```c
âœ… æŒç»­ä¸¢å¤±5ç§’å¼ºåˆ¶é‡ç½®
âœ… æ¸…ç©ºbeat_avg
âœ… é‡æ–°å¼€å§‹æ£€æµ‹
```

### **3. ç”¨æˆ·æ“ä½œå»ºè®®**
```
âœ… æ”¾ç½®æ‰‹æŒ‡å‰ä¿æŒé™æ­¢
âœ… ä¸€æ¬¡æ€§æ”¾åˆ°æ­£ç¡®ä½ç½®
âœ… å‰3ç§’ä¸è¦ç§»åŠ¨
âœ… ç­‰å¾…[ç¨³å®š]çŠ¶æ€
```

---

## ğŸ“Š **é¢„æœŸæ”¹å–„**

### **ä¿®å¤å‰ï¼š**
```
åˆæœŸè¯¯æ£€ â†’ å¡æ­»åœ¨é”™è¯¯å€¼ â†’ ä¸€ç›´æ˜¾ç¤ºé”™è¯¯ â†’ ç”¨æˆ·å›°æƒ‘
```

### **ä¿®å¤åï¼š**
```
åˆæœŸè¯¯æ£€ â†’ å¿«é€Ÿè‡ªåŠ¨ä¿®æ­£ â†’ 3-5ç§’æ”¶æ•›åˆ°æ­£ç¡®å€¼ â†’ ç”¨æˆ·æ»¡æ„
```

---

## âœ… **æµ‹è¯•éªŒè¯**

### **æµ‹è¯•æ­¥éª¤ï¼š**

1. **å¿«é€Ÿæ”¾ç½®æ‰‹æŒ‡**ï¼ˆæ•…æ„åˆ¶é€ åˆæœŸä¸ç¨³ï¼‰
2. **è§‚å¯Ÿåˆå§‹å¿ƒç‡**ï¼ˆå¯èƒ½å‡ºç°å¼‚å¸¸å€¼ï¼‰
3. **ä¿æŒé™æ­¢3-5ç§’**
4. **è§‚å¯Ÿè‡ªåŠ¨ä¿®æ­£**ï¼ˆåº”è¯¥å¿«é€Ÿæ”¶æ•›åˆ°æ­£å¸¸å€¼ï¼‰

### **é¢„æœŸç»“æœï¼š**

```
0s    æ”¾ç½®æ‰‹æŒ‡
0.5s  120 bpm [æ£€æµ‹ä¸­]  â† å¯èƒ½è¯¯æ£€
1.5s  95 bpm [æ£€æµ‹ä¸­]   â† è‡ªåŠ¨ä¿®æ­£ä¸­
2.5s  82 bpm [æ£€æµ‹ä¸­]   â† ç»§ç»­ä¿®æ­£
3.5s  76 bpm [ç¨³å®š]     â† æ¥è¿‘çœŸå®å€¼
4.5s  73 bpm [ç¨³å®š]     â† ç¨³å®šæ˜¾ç¤ºâœ…
```

---

## ğŸš€ **ç«‹å³æµ‹è¯•**

1. **é‡æ–°ç¼–è¯‘ä¸‹è½½**
   ```
   Build â†’ Rebuild â†’ Download
   ```

2. **å¿«é€Ÿæµ‹è¯•**
   ```
   - å¿«é€Ÿæ”¾ç½®æ‰‹æŒ‡
   - è§‚å¯Ÿå¿ƒç‡ä»å¼‚å¸¸å€¼è‡ªåŠ¨ä¿®æ­£
   - åº”è¯¥3-5ç§’å†…æ¢å¤æ­£å¸¸
   ```

3. **å¦‚æœè¿˜æ˜¯å¡æ­»**
   ```
   - ç­‰å¾…5ç§’è‡ªåŠ¨é‡ç½®
   - æˆ–é‡æ–°æ”¾ç½®æ‰‹æŒ‡
   - å‰3ç§’ä¿æŒé™æ­¢
   ```

---

## ğŸ“ **æ€»ç»“**

### **é—®é¢˜ï¼š**
- åˆæœŸè¯¯æ£€142 bpm
- è¿‡æ»¤é€»è¾‘è¿‡ä¸¥
- æ‹’ç»ä¿®æ­£å¯¼è‡´å¡æ­»

### **ä¿®å¤ï¼š**
- âœ… æ·»åŠ åˆæœŸä¿®æ­£ï¼ˆ50%æƒé‡ï¼‰
- âœ… æ·»åŠ è‡ªåŠ¨é‡ç½®ï¼ˆ5ç§’ï¼‰
- âœ… åˆ†çº§å“åº”ç­–ç•¥

### **æ•ˆæœï¼š**
- âœ… åˆæœŸé”™è¯¯è‡ªåŠ¨ä¿®æ­£
- âœ… 3-5ç§’æ”¶æ•›åˆ°æ­£å¸¸å€¼
- âœ… ä¸ä¼šæ°¸ä¹…å¡æ­»
- âœ… ä¿æŒé«˜ç¨³å®šæ€§

**ç«‹å³æµ‹è¯•ï¼Œåº”è¯¥ä¸ä¼šå†å‡ºç°142å¡æ­»äº†ï¼** ğŸ¯

